---
title: Swagger (Open API spec) Integration
nav_order: 5
summary:
swaggerfile: exercise_api
swaggerkey: /exercises/equipment/{type}
method: get
---
# OpenAPI spec integration using Swagger and Jekyll

I integrated autogenerated API documentation into this site using Swagger (OpenAPI specification) and Jekyll.

----------------------

### API documentation using OpenAPI specification
* The example API is a free REST API from [ExerciseDB](https://rapidapi.com/justin-WFnsXH_t6/api/exercisedb).
* The [Swagger parsers](https://github.com/peterhend/documentation-theme-jekyll/tree/547752cda66742c0497e8b76c3b9d3c6a19c1638/_includes/swagger_parsers) used are referenced from [Peter Henderson's solution](https://www.enigma.com/resources/blog/integrating-autogenerated-content-into-your-documentation-site-using-swagger-and-jekyll).
* Refer to the YAML file [here](https://github.com/DeeptiN1/portfolio/tree/main/_data/swagger/exercise_api.yaml).

### REST Endpoint
GET `/exercises/equipment/{type}`

### Summary 

{% include swagger_parsers/getattribute.md attribute="summary" %}

### Description

{% include swagger_parsers/getattribute.md attribute="description" %}

### Authentication Header parameters

{% include swagger_parsers/getauthheaders.md paramtype="header" %}

### Path parameters

{% include swagger_parsers/getparams.md paramtype="path" %}

### Query parameters

{% include swagger_parsers/getparams.md paramtype="query" %}

### Responses

{% include swagger_parsers/getresponses.md %}

### Content types:

{% include swagger_parsers/getattribute.md attribute="produces" type="list" %}

### Sample execution

Follow these steps to retrieve a valid API key to execute the API:
* Create an account on [Rapid API](https://rapidapi.com/auth/sign-up).
* Sign in to the account.
* From the console, go to:
  `Apps → My Apps → default_application_<application-id> → Authorization → Application Key`
* Copy the API key.
* Use the API key in the header of the API request.

Following are examples of the API execution using Postman and the cURL command.

<details>
<summary>Postman</summary>
<p>
Enter the following URL: <span style="background-color: #F0F0F0">https://exercisedb.p.rapidapi.com/exercises/equipment/assisted?limit=5&offset=2</span> in Postman and specify the API Key and its value under <span style="background-color: #F0F0F0">Authorization</span>.
</p>

<img src="../images/exercise-api-by-equip-postman.png" width="900" height="900" />

</details>

<details>
<summary>cURL</summary>
<br>
Use the following cURL command and substitute <span style="background-color: #F0F0F0">API_Key</span> with the actual value.

<br>

<span style="background-color: #F0F0F0">curl -X GET "https://exercisedb.p.rapidapi.com/exercises/equipment/assisted?limit=1&offset=3" -H "accept: application/json" -H 'X-RapidAPI-Key: API_Key' | python3 -m json.tool</span>

<br>

Sample result:

<br>

<pre style="background-color: #F0F0F0">
<code>
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100   746  100   746    0     0    802      0 --:--:-- --:--:-- --:--:--   802
[
    {
        "bodyPart": "waist",
        "equipment": "assisted",
        "gifUrl": "https://v2.exercisedb.io/image/4mzaZNWkQxOJ6i",
        "id": "0013",
        "name": "assisted lying leg raise with throw down",
        "target": "abs",
        "secondaryMuscles": [
            "hip flexors",
            "quadriceps"
        ],
        "instructions": [
            "Lie flat on your back with your legs extended and your arms by your sides.",
            "Place your hands under your glutes for support.",
            "Engage your core and lift your legs off the ground, keeping them straight.",
            "Raise your legs until they are perpendicular to the ground.",
            "Lower your legs back down to the starting position.",
            "Simultaneously, throw your legs down towards the ground, keeping them straight.",
            "Raise your legs back up to the starting position.",
            "Repeat for the desired number of repetitions."
        ]
    }
]
</code>
</pre>
</details>

### Code samples for API execution

The following are code snippets in Java, Node.js and Python to execute the API.

<details>
<summary>Java</summary>
To execute the API using Java, do the following:

<ul>
<li>Ensure the latest recommended JDK version is installed.</li>
<li>Create a file named <pre style="background-color: #F0F0F0">
  <code>ExerciseDBApiRequest.java</code></pre>
</li>
<li>Paste the following code:

<pre style="background-color: #F0F0F0">
<code>
import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.net.HttpURLConnection;
import java.net.URL;

public class ExerciseDBApiRequest {
public static void main(String[] args) {
try {
// Define API endpoint
String apiUrl = "https://exercisedb.p.rapidapi.com/exercises/equipment/assisted?limit=1&offset=3";
            // Replace with the actual API key value
            String apiKey = "API_KEY";

            // Create URL object
            URL url = new URL(apiUrl);

            // Open connection
            HttpURLConnection connection = (HttpURLConnection) url.openConnection();

            // Set request method to GET
            connection.setRequestMethod("GET");

            // Set request headers
            connection.setRequestProperty("Accept", "application/json");
            connection.setRequestProperty("X-RapidAPI-Key", apiKey);

            // Get response code
            int responseCode = connection.getResponseCode();
            System.out.println("Response Code: " + responseCode);

            // Read response if successful (200 OK)
            if (responseCode == HttpURLConnection.HTTP_OK) {
                BufferedReader in = new BufferedReader(new InputStreamReader
                        (connection.getInputStream()));
                String inputLine;
                StringBuilder response = new StringBuilder();

                while ((inputLine = in.readLine()) != null) {
                    response.append(inputLine);
                }
                in.close();

                // Print the response body
                System.out.println("Response Body: " + response.toString());
            } else {
                System.out.println("Failed to fetch data. HTTP Response Code: " + responseCode);
            }
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}
</code>
</pre>
</li>

<li>Follow these steps to run the Java program in a command-line interface or terminal:
<ul>
  <li>Replace API_KEY with the actual API key value.</li>
  <li>Compile the Java file:
    <pre style="background-color: #F0F0F0">
    <code>javac ExerciseDBApiRequest.java</code></pre>
  </li>
  <li>Run the Java program: <pre style="background-color: #F0F0F0">
    <code>java ExerciseDBApiRequest.java</code></pre>
  </li>
</ul>
</li>
<li>Expect the following output:
<pre style="background-color: #F0F0F0">
<code>
Response Code: 200
Response Body: [{"bodyPart":"waist","equipment":"assisted","gifUrl":"https://v2.exercisedb.io
/image/ey4Z0XPQHgcfiZ","id":"0013","name":"assisted lying leg raise with throw down",
"target":"abs","secondaryMuscles":["hip flexors","quadriceps"],"instructions":["Lie flat on 
your back with your legs extended and your arms by your sides.","Place your hands under your 
glutes for support.","Engage your core and lift your legs off the ground, keeping 
them straight.","Raise your legs until they are perpendicular to the ground.","Lower your legs 
back down to the starting position.","Simultaneously, throw your legs down towards the ground, 
keeping them straight.","Raise your legs back up to the starting position.","Repeat for the 
desired number of repetitions."]}]
</code>
</pre>
</li>
</ul>
</details>

<details>
<summary>Node.js</summary>
To execute the API using Node.js, do the following:

<ul>
<li>Ensure the latest recommended Node.js version is installed.</li>
<li>Create a file named <pre style="background-color: #F0F0F0">
  <code>fetch_exercises.js</code></pre>
</li>
<li>Paste the following code:

<pre style="background-color: #F0F0F0">
<code>
const https = require('https');

const options = {
    hostname: 'exercisedb.p.rapidapi.com',
    path: '/exercises/equipment/assisted?limit=1&offset=3',
    method: 'GET',
    headers: {
        'Accept': 'application/json',
        'X-RapidAPI-Key': 'API_KEY' // Replace with actual API key value
    }
};

const req = https.request(options, (res) => {
    let data = '';

    res.on('data', (chunk) => {
        data += chunk;
    });

    res.on('end', () => {
        console.log("Response Code:", res.statusCode);
        console.log("Response Body:", JSON.stringify(JSON.parse(data), null, 2));
    });
});

req.on('error', (error) => {
    console.error("Error fetching data:", error.message);
});

req.end();
</code>
</pre>
</li>

<li>Follow these steps to run the Node.js program in a command-line interface or terminal:
<ul>
  <li>Replace API_KEY with the actual API key value.</li>
  <li>Run the Node.js code: <pre style="background-color: #F0F0F0">
    <code>node fetch_exercises.js</code></pre>
  </li>
</ul>
</li>
<li>Expect the following output:
<pre style="background-color: #F0F0F0">
<code>
Response Code: 200
Response Body: [
  {
    "bodyPart": "waist",
    "equipment": "assisted",
    "gifUrl": "https://v2.exercisedb.io/image/ey4Z0XPQHgcfiZ",
    "id": "0013",
    "name": "assisted lying leg raise with throw down",
    "target": "abs",
    "secondaryMuscles": [
      "hip flexors",
      "quadriceps"
    ],
    "instructions": [
      "Lie flat on your back with your legs extended and your arms by your sides.",
      "Place your hands under your glutes for support.",
      "Engage your core and lift your legs off the ground, keeping them straight.",
      "Raise your legs until they are perpendicular to the ground.",
      "Lower your legs back down to the starting position.",
      "Simultaneously, throw your legs down towards the ground, keeping them straight.",
      "Raise your legs back up to the starting position.",
      "Repeat for the desired number of repetitions."
    ]
  }
]
</code>
</pre>
</li>
</ul>
</details>

<details>
<summary>Python</summary>
To execute the API using Python, do the following:

<ul>
<li>Ensure the latest recommended Python version is installed.</li>
<li>Create a file named <pre style="background-color: #F0F0F0">
  <code>fetch_exercises.py</code></pre>
</li>
<li>Paste the following code:

<pre style="background-color: #F0F0F0">
<code>
import requests
import json

# API endpoint
url = "https://exercisedb.p.rapidapi.com/exercises/equipment/assisted"

# Replace with the actual API key value
api_key = "API_KEY"

# Headers for the request
headers = {
    "accept": "application/json",
    "X-RapidAPI-Key": api_key
}

# Query parameters
params = {
    "limit": 1,
    "offset": 3
}

# Send GET request
response = requests.get(url, headers=headers, params=params)

# Check if request was successful
if response.status_code == 200:
    # Pretty-print JSON response
    print("Response Code:", response.status_code)
    print("Response Body:", json.dumps(response.json(), indent=2))
else:
    print("Error:", response.status_code, response.text)
</code>
</pre>
</li>

<li>Follow these steps to run the Python program in a command-line interface or terminal:
<ul>
  <li>Replace API_KEY with the actual API key value.</li>
  <li>Install the requests library (if not installed):
    <pre style="background-color: #F0F0F0">
    <code>pip3 install requests</code></pre>
  </li>
  <li>Run the Python code: <pre style="background-color: #F0F0F0">
    <code>python3 fetch_exercises.py</code></pre></li>
</ul>
</li>
<li>Expect the following output:
<pre style="background-color: #F0F0F0">
<code>
Response Code: 200
Response Body: [
  {
    "bodyPart": "waist",
    "equipment": "assisted",
    "gifUrl": "https://v2.exercisedb.io/image/ey4Z0XPQHgcfiZ",
    "id": "0013",
    "name": "assisted lying leg raise with throw down",
    "target": "abs",
    "secondaryMuscles": [
      "hip flexors",
      "quadriceps"
    ],
    "instructions": [
      "Lie flat on your back with your legs extended and your arms by your sides.",
      "Place your hands under your glutes for support.",
      "Engage your core and lift your legs off the ground, keeping them straight.",
      "Raise your legs until they are perpendicular to the ground.",
      "Lower your legs back down to the starting position.",
      "Simultaneously, throw your legs down towards the ground, keeping them straight.",
      "Raise your legs back up to the starting position.",
      "Repeat for the desired number of repetitions."
    ]
  }
]
</code>
</pre>
</li>
</ul>
</details>